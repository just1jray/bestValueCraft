@font-face {
  font-family: 'Cinzel';
  font-style: normal;
  font-weight: 400 700;
  font-display: swap;
  src: url('fonts/cinzel-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Cinzel';
  font-style: normal;
  font-weight: 400 700;
  font-display: swap;
  src: url('fonts/cinzel-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

/* ============================================
   BODY — transparent, no outer color box
   ============================================ */

body {
  width: 280px;
  background: hsl(28 35% 14%);
  font-family: "Cinzel", serif;
  color: hsl(40 50% 85%);
}

/* ============================================
   SHARED FRAME STYLE — wooden card-bg border
   border-image-source comes from .wc-card-border
   in warcraft.css; we complete the setup here
   ============================================ */

#card-img-wrap,
#pack-img-wrap,
#loading-frame,
#error-frame {
  border: 24px solid transparent;
  border-image-source: url("images/card-bg.webp");
  border-image-slice: 24 fill;
  border-image-repeat: stretch;
  margin-bottom: 2px;
  filter:
    drop-shadow(0 4px 12px hsl(0 0% 0% / 0.65))
    drop-shadow(0 8px 24px hsl(25 30% 5% / 0.50));
}

/* ============================================
   LOADING STATE
   ============================================ */

@keyframes pulse-glow {
  0%, 100% { opacity: 0.5; }
  50%       { opacity: 1.0; }
}

#loading-state {
  display: flex;
}

#loading-frame {
  position: relative;
  overflow: hidden;
  min-height: 380px;
  width: 280px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

#loading-frame p {
  color: hsl(45 70% 72%);
  font-size: 13px;
  letter-spacing: 1.5px;
  text-shadow: 0 0 8px hsl(45 60% 50% / 0.6);
  animation: pulse-glow 1.8s ease-in-out infinite;
  position: relative;
  z-index: 1;
}

/* ============================================
   ERROR STATE
   ============================================ */

#error-state {
  display: none;
}

#error-frame {
  min-height: 380px;
  width: 280px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px;
  text-align: center;
  color: hsl(40 60% 78%);
  font-size: 13px;
  line-height: 1.6;
  text-shadow: 0 1px 4px hsl(0 0% 0% / 0.7);
}

/* ============================================
   CARD PANEL — image frame + meta below
   ============================================ */

#card-panel {
  display: flex;
  flex-direction: column;
  align-items: center;
}

/* ============================================
   CARD IMAGE WRAPPER — wooden frame around card
   ============================================ */

/* Both frames locked to the same height so switching modes keeps the wooden
   border identical in size. 330px total = 48px border + 282px content. */
#card-img-wrap,
#pack-img-wrap {
  height: 330px;
}

#card-img-wrap {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 280px;
}

#card-img {
  width: 180px;
  height: auto;
  max-height: 282px; /* 330px frame height − 48px border */
  display: block;
  position: relative;
  z-index: 1;
}

/* ============================================
   RARITY GLOW — softened
   ============================================ */

/* Legendary — orange/gold */
body.rarity-legendary #card-panel .card-meta {
  background:
    radial-gradient(ellipse 100% 50% at 50% 0%,
      rgba(220, 110, 20, 0.30) 0%,
      rgba(180, 80, 10, 0.12) 50%,
      transparent 100%),
    linear-gradient(180deg, hsl(35 15% 8%) 0%, hsl(35 10% 5%) 100%);
}
body.rarity-legendary #card-img {
  filter:
    drop-shadow(0 0  5px rgba(255, 160,  50, 0.55))
    drop-shadow(0 0 14px rgba(220, 110,  20, 0.40))
    drop-shadow(0 0 28px rgba(180,  70,   0, 0.25));
}

/* Epic — purple */
body.rarity-epic #card-panel .card-meta {
  background:
    radial-gradient(ellipse 100% 50% at 50% 0%,
      rgba(160, 60, 210, 0.30) 0%,
      rgba(120, 40, 170, 0.12) 50%,
      transparent 100%),
    linear-gradient(180deg, hsl(35 15% 8%) 0%, hsl(35 10% 5%) 100%);
}
body.rarity-epic #card-img {
  filter:
    drop-shadow(0 0  5px rgba(210, 120, 255, 0.55))
    drop-shadow(0 0 14px rgba(160,  60, 210, 0.40))
    drop-shadow(0 0 28px rgba(100,  20, 160, 0.25));
}

/* Rare — blue */
body.rarity-rare #card-panel .card-meta {
  background:
    radial-gradient(ellipse 100% 50% at 50% 0%,
      rgba(50, 110, 210, 0.30) 0%,
      rgba(30,  80, 170, 0.12) 50%,
      transparent 100%),
    linear-gradient(180deg, hsl(35 15% 8%) 0%, hsl(35 10% 5%) 100%);
}
body.rarity-rare #card-img {
  filter:
    drop-shadow(0 0  5px rgba(100, 170, 255, 0.55))
    drop-shadow(0 0 14px rgba( 50, 120, 220, 0.40))
    drop-shadow(0 0 28px rgba( 20,  80, 170, 0.25));
}

/* Common — warm silver/stone */
body.rarity-common #card-panel .card-meta {
  background:
    radial-gradient(ellipse 100% 50% at 50% 0%,
      rgba(180, 160, 130, 0.20) 0%,
      rgba(140, 120, 100, 0.08) 50%,
      transparent 100%),
    linear-gradient(180deg, hsl(35 15% 8%) 0%, hsl(35 10% 5%) 100%);
}
body.rarity-common #card-img {
  filter:
    drop-shadow(0 0  4px rgba(200, 185, 160, 0.50))
    drop-shadow(0 0 10px rgba(160, 140, 110, 0.30))
    drop-shadow(0 0 20px rgba(120, 100,  70, 0.15));
}

/* ============================================
   CARD META — tooltip-style panel below the frame
   ============================================ */

.card-meta {
  width: 280px;
  display: flex;
  flex-direction: column;
  gap: 2px;
  padding: 10px 12px 8px;
  background: linear-gradient(180deg, hsl(35 15% 8%) 0%, hsl(35 10% 5%) 100%);
}

/* Override wc-tooltip border so no colored outer line shows */
.card-meta.wc-tooltip,
.card-meta.wc-tooltip-rare,
.card-meta.wc-tooltip-epic,
.card-meta.wc-tooltip-legendary {
  border: none;
}

/* ============================================
   CARD NAME — top, centered
   ============================================ */

#card-name {
  font-size: 15px;
  font-weight: 700;
  color: hsl(45 80% 88%);
  text-shadow: 0 1px 3px hsl(0 0% 0% / 0.8);
  line-height: 1.2;
  text-align: center;
}

/* ============================================
   RARITY BADGE — wc-btn-border-frame-sm
   border-image-source from warcraft.css class;
   we complete the border-image setup here
   ============================================ */

#rarity-badge {
  align-self: center;
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 2px;
  text-transform: uppercase;
  text-align: center;
}

#rarity-badge.rarity-legendary { color: #c96d24; text-shadow: 0 0 6px rgba(201,109,36,0.6); }
#rarity-badge.rarity-epic      { color: #9b45c0; text-shadow: 0 0 6px rgba(155,69,192,0.6); }
#rarity-badge.rarity-rare      { color: #3a7fc4; text-shadow: 0 0 6px rgba(58,127,196,0.6); }
#rarity-badge.rarity-common    { color: #9d9d9d; }

/* ============================================
   STATS ROW (mana + class)
   ============================================ */

.stats-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-top: 1px solid hsl(35 20% 28%);
  padding-top: 4px;
  margin-top: 8px;
}

#mana-cost {
  font-size: 12px;
  color: hsl(210 80% 75%);
}

#card-class {
  font-size: 10px;
  color: hsl(40 40% 65%);
  letter-spacing: 1px;
  text-transform: uppercase;
}

/* ============================================
   COMBAT STATS (attack / health)
   ============================================ */

#combat-stats {
  display: flex;
  gap: 14px;
  font-size: 12px;
}

#attack-val { color: hsl(15 80% 68%); }
#health-val { color: hsl(350 70% 68%); }

/* ============================================
   TYPE / SET
   ============================================ */

#card-type,
#card-set {
  font-size: 10px;
  color: hsl(40 30% 55%);
  letter-spacing: 0.5px;
}

/* ============================================
   CARD TEXT — centered, italic
   ============================================ */

#card-text {
  font-size: 10px;
  color: hsl(40 40% 75%);
  line-height: 1.4;
  border-top: 1px solid hsl(35 20% 28%);
  padding-top: 3px;
  text-align: center;
}

#card-text b {
  font-weight: 700;
  color: hsl(45 70% 88%);
}

/* ============================================
   CRAFT VALUE FOOTER
   ============================================ */

#craft-value {
  font-size: 11px;
  color: hsl(45 50% 55%);
  border-top: 1px solid hsl(35 20% 28%);
  padding-top: 3px;
  text-align: center;
}

#craft-value strong {
  color: hsl(45 70% 72%);
  font-weight: 700;
}

/* ============================================
   MODE FOOTER — standard WarcraftCN buttons at bottom
   ============================================ */

#mode-footer {
  display: none;
  position: relative;
  width: 100%;
  justify-content: center;
  padding: 2px 16px 8px;
}

#mode-tooltip {
  position: absolute;
  bottom: calc(100% + 4px);
  left: 50%;
  transform: translateX(-50%);
  white-space: nowrap;
  font-family: "Cinzel", serif;
  font-size: 10px;
  color: hsl(40 50% 85%);
  background: linear-gradient(180deg, hsl(35 15% 10%) 0%, hsl(35 10% 6%) 100%);
  border: 1px solid hsl(45 60% 35%);
  box-shadow: 0 4px 12px hsl(0 0% 0% / 0.7);
  padding: 4px 10px;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.15s;
}

.mode-btn:hover + #mode-tooltip {
  opacity: 1;
}

/* Single full-width cycling button — standard WarcraftCN style */
.mode-btn {
  width: 100%;
  border: none;
  border-radius: 0;
  padding: 8px 16px;
  font-family: "Cinzel", serif;
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: hsl(45 80% 84%);
  cursor: pointer;
  background: url("images/button-bg.webp") center / 100% 100% no-repeat;
  transition: filter 0.15s;
}

.mode-btn:hover {
  filter: brightness(1.12);
}

/* ============================================
   PACK PANEL
   ============================================ */

#pack-panel {
  display: flex;
  flex-direction: column;
  align-items: center;
}

#pack-img-wrap {
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 280px;
  text-align: center;
  padding: 32px 24px;
  gap: 10px;
}

/* Pack meta uses common rarity gradient */
#pack-panel .card-meta {
  background:
    radial-gradient(ellipse 100% 50% at 50% 0%,
      rgba(180, 160, 130, 0.20) 0%,
      rgba(140, 120, 100, 0.08) 50%,
      transparent 100%),
    linear-gradient(180deg, hsl(35 15% 8%) 0%, hsl(35 10% 5%) 100%);
}

#pack-label {
  font-size: 9px;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: hsl(40 30% 55%);
}

#pack-set-title {
  font-size: 20px;
  font-weight: 700;
  color: hsl(45 80% 88%);
  text-shadow:
    0 0 16px hsl(45 60% 50% / 0.5),
    0 1px 3px hsl(0 0% 0% / 0.9);
  line-height: 1.3;
}

#pack-value {
  font-size: 11px;
  color: hsl(45 50% 55%);
  text-align: center;
  line-height: 1.8;
}

#pack-value strong {
  color: hsl(45 70% 72%);
  font-weight: 700;
}
